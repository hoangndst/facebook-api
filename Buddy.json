{"files":[{"id":"3185c33d-b4aa-40d3-94c0-1ddf0338ee9f","name":"appsscript","type":"json","source":"{\n  \"timeZone\": \"Asia/Ho_Chi_Minh\",\n  \"dependencies\": {\n  },\n  \"exceptionLogging\": \"STACKDRIVER\",\n  \"runtimeVersion\": \"V8\"\n}"},{"id":"83832e00-588f-4fa8-878f-4090bc1afc4c","name":"Message","type":"server_js","source":"function message() {\n\n  const token \u003d \"EAACfxkkZBU58BAEgLLhm8h2CnrGLDaaHBNO8ludbwhujGR8lh3kMxZComGEmawzDsk6rMZBfBl6E1ZCrYdIHzYbTkbZB9og2nmkj0GneLZA7LcIXUzVBthpEagtfVQEafQT1fZBr59biBvZArKRrbD5PoZC83Jd1OZBqBm8XTjrTIUJaL2ylIsY1uNOcq6C1eqHjU45tnlZA48ozgZDZD\"\n\n\n  // Covid 19\n  const covid19 \u003d UrlFetchApp.fetch(\"https://api.covid19api.com/dayone/country/vietnam\");\n  const data \u003d JSON.parse(covid19);\n  const today \u003d data[data.length - 2];\n  const yesterday \u003d data[data.length - 3];\n  const increase \u003d today.Confirmed - yesterday.Confirmed;\n  let test \u003d \"\";\n  if (increase \u003d\u003d 0) {\n    test \u003d \"\";\n  } else if (increase \u003e 0) {\n    test \u003d `tăng ${increase} ca so với ngày hôm qua! 😢`;\n  } else {\n    test \u003d `giảm ${Math.abs(increase)} ca so với ngày hôm qua! 😊`\n  }\n\n  const confirmed \u003d today.Confirmed;\n  const recovered \u003d today.Recovered;\n  const deaths \u003d today.Deaths;\n\n\n  // Weather \n  const get_weather \u003d () \u003d\u003e {\n      const url \u003d \"http://api.openweathermap.org/data/2.5/weather?q\u003dHanoi,10000,VN\u0026units\u003dmetric\u0026lang\u003dvi\u0026appid\u003d0407f9d8e492e0998287575717078017\";\n      return UrlFetchApp.fetch(url);\n  };\n\n  const w \u003d get_weather();\n  const weatherData \u003d JSON.parse(w);\n  const w_today \u003d weatherData[\"weather\"][0].description;\n  const feels_like \u003d weatherData[\"main\"].feels_like;\n  const temp_min \u003d weatherData[\"main\"].temp_min;\n  const humidity \u003d weatherData[\"main\"].humidity;\n  \n  // date\n  var date \u003d new Date();\n  var dayIndex \u003d date.getDay();\n  var day \u003d [ \"chủ nhật\", \n              \"thứ Hai\", \n              \"thứ Ba\", \n              \"thứ Tư\", \n              \"thứ Năm\", \n              \"thứ Sáu\", \n              \"thứ Bảy\"\n            ];\n  \n  const day1 \u003d day[dayIndex];\n  const mess \u003d `👋 Hey bro!\nBuổi sáng ${day1} tốt lành! 😄.\n\n🌦 𝕎𝕖𝕒𝕥𝕙𝕖𝕣 𝔽𝕠𝕣𝕖𝕔𝕒𝕤𝕥:\n\nThời tiết hôm nay: ${w_today}.\nNhiệt độ cảm giác: ${feels_like}°C.\nNhiệt độ thấp nhất: ${temp_min}°C.\nĐộ ẩm: ${humidity}%.\n\n🦠 𝕊𝔸ℝ𝕊-ℂ𝕠𝕍-𝟚 ⁉️\n\nSố ca mắc Covid19 tính đến nay tại Viêt Nam là: ${confirmed}, ${test}.\nSố ca tử vong là: ${deaths}.\nSố ca phục hồi là: ${recovered}.\n\nHãy hạn chế ra ngoài, ở nhà học tập trau dồi kiến thức cùng IU xinh đẹp nhé! 😻`\n  \n  \n// list messBot  \n  \n  const image \u003d {\n      \"recipient\": {\n      \"id\": \"4596621120382251\"\n    },\n    \"message\": {\n    \"attachment\":{\n      \"type\":\"image\", \n      \"payload\":{\n        \"url\":\"https://newsmd1fr.keeng.net/tiin/archive/images/268/202007/20200726/tinngan_042245_143580851_1.jpg\", \n        \"is_reusable\":true\n        }\n      }\n    }\n  }\n  const daily \u003d {\n    \"recipient\": {\n      \"id\": \"4596621120382251\"\n    },\n    \"message\": {\n      \"text\": mess\n    }\n  }\n\n\n  const listBot \u003d [daily];\n  for (let i \u003d 0; i \u003c listBot.length; i++) {\n    const app \u003d UrlFetchApp.fetch(`https://graph.facebook.com/v11.0/me/messages?access_token\u003d${token}`,{\n    \"method\": \u0027post\u0027,\n    \u0027contentType\u0027: \u0027application/json\u0027,\n    \"payload\": JSON.stringify(listBot[i])\n    });\n  }\n\n} \n"},{"id":"6d22683f-2028-4f7e-8a7b-75abeaa0815d","name":"Post","type":"server_js","source":"function post() {\n\n  const token \u003d \"EAACfxkkZBU58BAEgLLhm8h2CnrGLDaaHBNO8ludbwhujGR8lh3kMxZComGEmawzDsk6rMZBfBl6E1ZCrYdIHzYbTkbZB9og2nmkj0GneLZA7LcIXUzVBthpEagtfVQEafQT1fZBr59biBvZArKRrbD5PoZC83Jd1OZBqBm8XTjrTIUJaL2ylIsY1uNOcq6C1eqHjU45tnlZA48ozgZDZD\"\n\n\n  // Covid 19\n  const covid19 \u003d UrlFetchApp.fetch(\"https://api.covid19api.com/dayone/country/vietnam\");\n  const data \u003d JSON.parse(covid19);\n  const today \u003d data[data.length - 2];\n  const yesterday \u003d data[data.length - 3];\n  const increase \u003d today.Confirmed - yesterday.Confirmed;\n  let test \u003d \"\";\n  if (increase \u003d\u003d 0) {\n    test \u003d \"\";\n  } else if (increase \u003e 0) {\n    test \u003d `tăng ${increase} ca so với ngày hôm qua! 😢`;\n  } else {\n    test \u003d `giảm ${Math.abs(increase)} ca so với ngày hôm qua! 😊`\n  }\n\n  const confirmed \u003d today.Confirmed;\n  const recovered \u003d today.Recovered;\n  const deaths \u003d today.Deaths;\n\n\n  // Weather \n  const get_weather \u003d () \u003d\u003e {\n      const url \u003d \"http://api.openweathermap.org/data/2.5/weather?q\u003dHanoi,10000,VN\u0026units\u003dmetric\u0026lang\u003dvi\u0026appid\u003d0407f9d8e492e0998287575717078017\";\n      return UrlFetchApp.fetch(url);\n  };\n  const w \u003d get_weather();\n  const weatherData \u003d JSON.parse(w);\n  const w_today \u003d weatherData[\"weather\"][0].description;\n  const feels_like \u003d weatherData[\"main\"].feels_like;\n  const temp_min \u003d weatherData[\"main\"].temp_min;\n  const humidity \u003d weatherData[\"main\"].humidity;\n  // date\n  \n  var date \u003d new Date();\n  var dayIndex \u003d date.getDay();\n  var day \u003d [\"chủ nhật\", \"thứ Hai\", \"thứ Ba\", \"thứ Tư\", \"thứ Năm\", \"thứ Sáu\", \"thứ Bảy\"];\n  const day1 \u003d day[dayIndex];\n  const mess \u003d `👋 Hey các bro! \nBuổi sáng ${day1} tốt lành! 😄.\n\n🌦 𝕎𝕖𝕒𝕥𝕙𝕖𝕣 𝔽𝕠𝕣𝕖𝕔𝕒𝕤𝕥:\n\nThời tiết hôm nay: ${w_today}.\nNhiệt độ cảm giác: ${feels_like}°C.\nNhiệt độ thấp nhất: ${temp_min}°C.\nĐộ ẩm: ${humidity}%.\n\n🦠 𝕊𝔸ℝ𝕊-ℂ𝕠𝕍-𝟚 ⁉️\n\nSố ca mắc Covid19 tính đến nay tại Viêt Nam là: ${confirmed}, ${test}.\nSố ca tử vong là: ${deaths}.\nSố ca phục hồi là: ${recovered}.\n\nHãy hạn chế ra ngoài, ở nhà học tập trau dồi kiến thức cùng IU xinh đẹp nhé! 😻`\n  \n  \n// list messBot  \n  \n  const url \u003d [\"https://kenh14cdn.com/2019/4/6/3138689120831560719647756541415365686067200n-1554562907742130345998.jpg\", \"https://static2.yan.vn/YanNews/2167221/201908/iu-la-ai-tinh-yeu-su-nghiep-bai-hat-cua-iu-1bc853a3.jpg\", \"https://static1.bestie.vn/Mlog/ImageContent/202106/cuoi-ngat-viec-bo-iu-muon-mic-custom-cua-con-gai-de-hat-karaoke-33e42f.jpg\", \"https://i.pinimg.com/originals/cb/f4/18/cbf418a69e8e999ad416d0e6c952032e.jpg\", \"https://newsmd1fr.keeng.net/tiin/archive/images/268/202007/20200726/tinngan_042245_143580851_1.jpg\"]\n  const daily \u003d {\n    \"message\": mess,\n    // \"url\" : url[4]\n  }\n\n\n\n\n  const listBot \u003d [daily];\n  for (let i \u003d 0; i \u003c listBot.length; i++) {\n    const app \u003d UrlFetchApp.fetch(`https://graph.facebook.com/v11.0/me/feed?access_token\u003d${token}`,{\n    \"method\": \u0027post\u0027,\n    \u0027contentType\u0027: \u0027application/json\u0027,\n    \"payload\": JSON.stringify(listBot[i])\n    });\n  }\n\n} \n"},{"id":"5055ddec-1f56-4dad-94b2-9fdb7093256c","name":"Comment","type":"server_js","source":"function comment() {\n    const token \u003d [\n\"EAAAAZAw4FxQIBAII4PnKAXjUyJyeTALpPqp69JOuYOQYAnWRSVa0Xyi8wzM5b2hWQB15SZBMzOBaZCQmO69pDUK4YP33WzWQsSv0ffaU201Q45tsPg0alpdTfrEoW9ZCSjg7dMNZCMFUPtJwMyZCVacIRz6noiFxXIzLCN10dJlcCKADSjKCz1\",\n\"EAAAAZAw4FxQIBAJ8XEY8NYcrdJJ9cnjbCLyysc69LZBo7Ns46oTwlVmpWd5LXhZChgHYMdigjACKQZB2bFBE4EkVHTh28smPFMZAmvEyZCnGGgb6LmZAkBK0uNl282icM6cPobtjf1shhaFHSQG6wUFaNgXqV5K3kOt5SoPZCicA6QZDZD\",\n\"EAAAAZAw4FxQIBAAZABW4Sh274GZA95B587vWn92oC7iRQ90XEsgKFQ8PgVeE0axI6aB9EMoBaFZC3B6xMoeIdNXO1ru2j6q4Ji6n0FpEAUybznP7dGdVtnw9rsFpHdB61dX5Suu7HAhQCZAGQdTu2GZAjUieDnTNFZAqJjNH1LtfrH9gMHQL4RkUNs56lqFZAuoZD\",\n\"EAAAAZAw4FxQIBAN08tn2B3ksnrHTf6Gs45wDW2dw3zWiKSG4EzdNLiMBXLc7WZC24ErxVMHAgcyJlyh8z8UZCZA3eMS9rfVH48bT4ZBxnIIYvThjzeAlxG8XANZBwwZAe1GLI1zT4YVkUbF4gN6DuJKnBGkASTc3M8VEV71jeKvo9pFd4FQwbBY\",\n\"EAAAAZAw4FxQIBANTP7XapXMTIOUd6JpPthriXwuW4ReYHSHpERfcNL3cXrprsTmYHitZBcdIniOXGA3Gs9pfQTNdesipJl3BsiaeDJpZAGXMmsf1Bz1215ccZBHHMBCfRxAR6t2LwgiOxQmyzPzq9BZCeRsxoyLrkZBbUy7J0ARAZDZD\",\n\"EAAAAZAw4FxQIBAJ8XEY8NYcrdJJ9cnjbCLyysc69LZBo7Ns46oTwlVmpWd5LXhZChgHYMdigjACKQZB2bFBE4EkVHTh28smPFMZAmvEyZCnGGgb6LmZAkBK0uNl282icM6cPobtjf1shhaFHSQG6wUFaNgXqV5K3kOt5SoPZCicA6QZDZD\"\n]\n  \n// list messBot  \n  \n  const daily \u003d {\n    \"message\": \"Sin tự nhận mình non !\",\n    // \"attachment_url\" : \"https://vcdn-ngoisao.vnecdn.net/2021/07/22/2-jpeg-7551-1626940740.jpg\"\n  }\n\n  \n  const postID \u003d \"100015066002448_1176798849498971\";\n\n  const listBot \u003d [daily];\n  for (let i \u003d 0; i \u003c token.length; i++) {\n    const app \u003d UrlFetchApp.fetch(`https://graph.facebook.com/v11.0/${postID}/likes?access_token\u003d${token[i]}`,{\n    \"method\": \u0027post\u0027,\n    \u0027contentType\u0027: \u0027application/json\u0027,\n    \"payload\": JSON.stringify(daily)\n    });\n  }\n}\n"}]}